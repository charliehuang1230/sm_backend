spring:
  sql:
    init:
      mode: never
  application:
    name: todolist
  # datasource:
  #   dynamic:
  #     primary: master
  #     strict: false
  #     datasource: {}

mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    # 啟用 SQL 日誌輸出
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
    # 顯示完整的 SQL（包括參數值）
    cache-enabled: true
    # 延遲加載配置
    lazy-loading-enabled: false
    aggressive-lazy-loading: false

server:
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

dynamic:
  datasource:
    ttl-minutes: 30

# 日誌配置
logging:
  level:
    # 根日誌級別
    root: INFO
    # 應用程式日誌
    com.demo.todolist: DEBUG
    # MyBatis-Plus SQL 日誌（顯示完整 SQL 和參數）
    com.demo.todolist.mapper: DEBUG
    # HikariCP 連接池日誌
    com.zaxxer.hikari: DEBUG
    com.zaxxer.hikari.HikariConfig: DEBUG
    com.zaxxer.hikari.pool.HikariPool: DEBUG
    # Spring 框架日誌（可選，生產環境建議設為 INFO）
    org.springframework.web: INFO
    org.springframework.jdbc: DEBUG
  pattern:
    # 控制台日誌格式
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    # 文件日誌格式（如果需要輸出到文件）
    # file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  # 可選：輸出到文件
  # file:
  #   name: logs/todolist.log
  #   max-size: 10MB
  #   max-history: 30
